(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2907537a"],{"79f0":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"comment"},[e("div",{staticClass:"score-overview"},[e("div",{staticClass:"star-box"},[e("span",{staticClass:"title"},[t._v("综合评分")]),e("span",{staticClass:"score"},[t._v(t._s(t.totalScore.total))]),e("mooc-star",{attrs:{value:t.totalScore.total/2,size:18,disabled:""}})],1),e("div",{staticClass:"score-box"},[e("span",[t._v("内容实用")]),e("span",{staticClass:"score"},[t._v(t._s(t.totalScore.content_score))])]),e("div",{staticClass:"score-box"},[e("span",[t._v("简洁易懂")]),e("span",{staticClass:"score"},[t._v(t._s(t.totalScore.easy_score))])]),e("div",{staticClass:"score-box"},[e("span",[t._v("逻辑清晰")]),e("span",{staticClass:"score"},[t._v(t._s(t.totalScore.logic_score))])])]),e("ul",{staticClass:"comment-list"},t._l(t.commentList,function(s,o){return e("li",{key:o,staticClass:"comment-item"},[e("div",{staticClass:"img-box"},[e("img",{attrs:{src:s.avatar,alt:""}})]),e("div",{staticClass:"comment-content-wrapper"},[e("p",[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("span",{staticClass:"score"},[e("MoocStar",{attrs:{value:t.getCommentScore(s),size:16,disabled:!0}}),t._v("\n            "+t._s(t.getCommentScore(s))+"分\n          ")],1)]),e("p",{staticClass:"content"},[t._v("\n          "+t._s(s.comment)+"\n        ")]),e("p",[e("span",{staticClass:"time"},[t._v("时间："+t._s(s.time))])])])])}),0)])},a=[],c=(e("ac6a"),e("c5f6"),e("8897")),n=e("da71"),i={data:function(){return{commentList:[]}},mounted:function(){this.getLessonComment()},methods:{handlePaginationChange:function(t){this.page=t,this.getLessonComment()},getLessonComment:function(){var t=this,s={id:this.$route.params.id};this.commentList=[],Object(c["a"])(s).then(function(s){var e=s.code,o=s.data,a=s.msg;e===n["a"]?t.commentList=o:t.$message.error(a)}).catch(function(){t.$message.error("接口异常")})},getCommentScore:function(t){var s={};if(s[t["_id"]])return s[t["_id"]];var e=t.content_score,o=void 0===e?0:e,a=t.easy_score,c=void 0===a?0:a,n=t.logic_score,i=void 0===n?0:n,r=Number(((o+c+i)/3).toFixed(2));return s[t["_id"]]=r,Number(((o+c+i)/3).toFixed(2))}},computed:{totalScore:function(){if(0===this.commentList.length)return{total:0,content_score:0,easy_score:0,logic_score:0};var t={total:0,content_score:0,easy_score:0,logic_score:0},s=this.commentList.length;for(var e in this.commentList.forEach(function(s){t["content_score"]+=parseFloat(s["content_score"]),t["easy_score"]+=parseFloat(s["easy_score"]),t["logic_score"]+=parseFloat(s["logic_score"])}),t["total"]=(t["content_score"]+t["easy_score"]+t["logic_score"])/3,t)t[e]=Number((t[e]/s).toFixed(2));return t}}},r=i,l=(e("a7fa"),e("2877")),m=Object(l["a"])(r,o,a,!1,null,"24e2bca4",null);s["default"]=m.exports},a7fa:function(t,s,e){"use strict";var o=e("f411"),a=e.n(o);a.a},f411:function(t,s,e){}}]);